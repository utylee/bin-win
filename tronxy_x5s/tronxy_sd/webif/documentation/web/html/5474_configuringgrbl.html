<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xml:lang='nb_NO' itemscope='' itemtype='http://schema.org/'>  
<!-- Mirrored from dank.bengler.no/-/page/show/5474_configuringgrbl by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 May 2016 12:16:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
<title>Dank</title>

<link rel='shortcut icon' type='image/png' href='http://dank.files.origo.no/favicon.png'/>
  <link rel="canonical" href="http://dank.bengler.no/-/page/show/5474_configuringgrbl"/>
  <meta property="og:url" content="http://dank.bengler.no/-/page/show/5474_configuringgrbl"/>

  <meta property="og:image" content="http://media2.origo.no/-/cache/image/50460_he8c65852c393c83a826a_240x240.png"/>
  <meta itemprop="image" content="http://media2.origo.no/-/cache/image/50460_he8c65852c393c83a826a_240x240.png"/>
  <link rel="image_src" href="http://media2.origo.no/-/cache/image/50460_he8c65852c393c83a826a_240x240.png"/>
  <link rel="videothumbnail" type="image/jpeg" href="http://media2.origo.no/-/cache/image/50460_he8c65852c393c83a826a_240x240.png"/>

  <meta name="title" lang="nb_NO" content="Configuring Grbl"/>
  <meta itemprop="title" content="Configuring Grbl"/>
  <meta property="og:title" content="Configuring Grbl" />  
  <meta itemprop="description" content="Grbl has the neat ‘$’-command to tweak the settings at runtime."/>
  <meta name="description" content="Grbl has the neat ‘$’-command to tweak the settings at runtime."/>
  <meta property="og:description" content="Grbl has the neat ‘$’-command to tweak the settings at runtime." />
<meta property="og:type" content="object"/>
<meta http-equiv="Content-Language" content="nb_NO"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />	
  <meta property='origo:sandbox:id' content="269682"/>

<meta name='viewport' content='width=device-width, initial-scale=1.0'/>

<meta name="robots" content="noodp"/>

<link href="http://media1.origo.no/stylesheets/_origo_brand_6644e3f28979228f21a9e8ba01f5f88d37aab77a.css?6644e3f28979228f21a9e8ba01f5f88d37aab77a" media="all" rel="stylesheet" type="text/css" />  <link href="http://vaktmesterkontoret.files.origo.no/.generated/themes/origo_legacy_naked.css?1363388200" media="all" rel="stylesheet" type="text/css" />    <link href="http://media4.origo.no/-/cache/stylesheet/269682/6644e3f28979228f21a9e8ba01f5f88d37aab77a_63.css" media="all" rel="stylesheet" type="text/css" />
<script src="http://media1.origo.no/javascripts/_base_6644e3f28979228f21a9e8ba01f5f88d37aab77a.js?6644e3f28979228f21a9e8ba01f5f88d37aab77a" type="text/javascript"></script><script src="http://media1.origo.no/javascripts/locale/nb_NO/LC_MESSAGES/origo.mo.js?6644e3f28979228f21a9e8ba01f5f88d37aab77a" type="text/javascript"></script>



<!-- Hello from faktum 6644e3f28979228f21a9e8ba01f5f88d37aab77a -->
    <link href="http://origo.no/-/feed/global/sandbox/269682_dank" rel="alternate" title="ATOM" type="application/atom+xml" />    <style></style>
  </head>
<body class="sandbox_page not_logged_in origo_white_labeled" data-origo-sandbox-id="269682" data-origo-sandbox-name="dank" id="page_show_page">      
<script type="text/javascript">  var organization_stationary = new Object();  organization_stationary.user_id = null;  organization_stationary.user_image_thumb = 'null';  organization_stationary.user_full_name = null;  organization_stationary.organization_id = 22;  organization_stationary.root_organization_id = 22;  organization_stationary.user_affiliated_sandbox_id = null;  organization_stationary.role = null;</script>

<div id="global_header" class="origo_brand unprintable">
  <div id='global_header_bar'>
    <div id="global_header_tab">
      <div id="global_header_logo">
        <a href="http://origo.no/-/site/global">Origo</a>      </div>
    </div>
  </div>

  <div id="global_menu_container" style="display: none;">
      <div id="global_menu_anonymous" class="origo_brand global_menu_box grid">
<div class="column_group"><div class="column spans_14 leftmost_column">            <div id="global_menu_bragging" class="light_colour text">
              <h2>
                  Bengler bruker Origo til å lage sidene sine.                  <strong>Det kan du også gjøre.</strong>
              </h2>
              <p>
                Origo er sosiale nettsteder for alle. Med Origo kan du blogge, lage bildealbum, sette opp kalendere og diskutere med folk. Du kan enkelt starte nettsteder for firmaet ditt, foreningen din, familien din eller bare deg selv.              </p>
              <p>
<div class="button_bar button_bar_left"><div class="button_bar_buttons">                  <a href="http://origo.no/-/site/about" class="button big_button orange_button big_orange_button" onclick="this.blur();"><span class="button_label">Les mer om å starte et nettsted på Origo</span></a></div><div class='clear'></div></div>              </p>
              <p class="small global_menu_link_list">
                <a href="http://origo.no/-/login">Logg inn</a><a href="http://origo.no/-/register">Registrer deg</a>              </p>
            </div>
</div><div class="column spans_10 rightmost_column">            <a href="http://origo.no/-/site/about" id="global_menu_brag_screenshots"></a>
</div><div class="clear"></div></div>      </div>
  </div>

  <script type="text/javascript">//<![CDATA[
    new GlobalMenu();
  //]]></script>





</div>
  
      <div id="page_outer_wrapper" class="page_outer_wrapper naked">
                <div id="page_wrapper" class="page_wrapper">
          <div class="page_wrapper_top_dummy1"></div>
          <div class="page_wrapper_top_dummy2"></div>
          <div class="page_wrapper_top_dummy3"></div>
          <div class="page_wrapper_top_dummy4"></div>
            <div class="page_grid grid">
              <!-- layout ID=203 -->
<div class="column_group topmost_column_group"><div class="column spans_32 leftmost_column rightmost_column"><div class="layout_component topmost_layout_component bottommost_layout_component unseparated_layout_component" id="el_zuyu9na_1aoa"><div class="banner_component">
      <div class="banner_component_banner">
        <a href="http://dank.bengler.no/-/sandbox/show/269682_dank"><img alt="Dank" src="http://media1.origo.no/-/cache/banner/17560_v=4_width=982.png?6644e3f28979228f21a9e8ba01f5f88d37aab77a" title="Dank" /></a>      </div>
    <div class="banner_component_divider"></div>
  </div></div></div><div class="clear"></div></div><div class="column_group bottommost_column_group"><div class="column spans_32 leftmost_column rightmost_column"><div class="layout_component topmost_layout_component bottommost_layout_component" id="el_zuyu9na_1aoc"><div class="column_group"><div class="column spans_22 leftmost_column">            
<div class="post full page_post"><h3>Configuring Grbl</h3><div class="body"><div class='text textile'><p>Grbl has the neat &#8216;$&#8217;-command to tweak the settings at runtime.</p>
<p>Connect to Grbl using the serial terminal of your choice (baud rate 9600 unless you changed that in <code>config.h</code>).</p>
<p>Once connected you should get the Grbl-prompt. Write $ and press enter. You should see something like this:</p>
<p><code>$0 = 400.0 (steps/mm x)
$1 = 400.0 (steps/mm y)
$2 = 400.0 (steps/mm z)
$3 = 30 (microseconds step pulse)
$4 = 480.0 (mm/sec default feed rate)
$5 = 480.0 (mm/sec default seek rate)
$6 = 0.100 (mm/arc segment)
$7 = 0 (step port invert mask. binary = 0)
$8 = 25 (acceleration in mm/sec^2)
$9 = 300 (max instant cornering speed change in delta mm/min)</code></p>
<p>To change e.g. the microseconds step pulse option to 50us you would do this:<br />
<code>&gt;&gt; $3=50</code><br />
The settings are stored in eeprom and will be retained forever or until you change them.</p>
<h4>$0, $1 and $2 – Steps/mm</h4>
<p>Grbl needs to know how far each step will take the tool in reality. To calculate steps/mm for an axis of your machine you need to know:</p>
<ol>
	<li>The turns per mm of the lead screw</li>
	<li>The full steps per revolution of your steppers (typically 200)</li>
	<li>The microsteps per step of your controller (typically 1, 8 or 16)</li>
</ol>
<p>The steps/mm can then be calculated like this</p>
<p><code>steps_per_mm = (steps_per_revolution*microsteps)/turns_per_mm</code></p>
<p>Do this for every axis.</p>
<h4>$3 – Microseconds/step pulse</h4>
<p>Stepper drivers are rated for a certain minimum step pulse length. Check the data sheet or just try some numbers. You want as short pulses as the stepper drivers can reliably recognize. If the pulses are too long you might run into trouble running the system at high feed rates. Generally something between 20 and 50 microseconds works.</p>
<h4>$5 – default feed rate</h4>
<p>When running G-code this setting will usually not enter into the picture as all feed rates will be specified in the file. I set these to the highest practical feed rates.</p>
<h4>$6 – mm/arc segment</h4>
<p>Grbl renders circles and arcs by subdividing them into teeny tiny lines. You will probably never need to adjust this value – but if you find that your circles are too crude (really? one tenth of a millimeter is not precise enough for you? Are you in nanotech?) you may adjust this. Lower values gives higher precision but may lead to performance issues.</p>
<h4>$7 – invert mask</h4>
<p>My cnc-stepper controller needs its values inverted. Signal lines are normally high and goes low for a couple of microsecond to signal an event.  To achieve this I need to invert some of the bits. This value is a byte that is xored with the step-data before it is sent down the stepping port. That way you can use this both to invert step pulses (like I do) or to invert one or more of the directions of the axes. The bits in this byte corresponds to the pins assigned to stepping in config.h. Per default bits are assigned like this:</p>
<p><code></p>
<p>#define X_STEP_BIT           0<br />
#define Y_STEP_BIT           1<br />
#define Z_STEP_BIT           2<br />
#define X_DIRECTION_BIT            3<br />
#define Y_DIRECTION_BIT            4<br />
#define Z_DIRECTION_BIT            5<br />
</code></p>
<p>If you wanted to invert the X and Y direction in this setup you would calculate a value like this (in your favourite calculating environment):</p>
<p><code>&gt;&gt; (1&lt;&lt;X_DIRECTION_BIT)|(1&lt;&lt;Y_DIRECTION_BIT)</code></p>
<p>Which is equal to 24 so issuing this command would invert them:</p>
<p><code>&gt;&gt; $7=24</code></p>
<h4>$8 – acceleration</h4>
<p>This is the acceleration in mm/second/second. You don&#8217;t have to understand what that means, suffice it to say that a lower value gives smooooother acceleration while a higher value yields tighter moves.</p>
<h4>$9 – max instant cornering speed change</h4>
<p>This is the maximum immediate speed change that the acceleration manager will allow. Higher values gives generally faster, possibly jerkier motion. Lower values makes the acceleration manager more careful and will lead to careful cornering.</p>
<p>Coming soon: Using Grbl</p></div></div><div class='clear'></div>    <div class="post_statistics">
<div id="el_zuyu9na_1ao6" title="Her vises antallet ganger bidraget har blitt vist for Origo-medlemmer (utenom deg selv) samt andre uinnloggede besøkende, og hvor mange Origo-medlemmer som har valgt å følge samtalen.">
          Vist <strong>64537</strong> ganger.</div><script>new Tooltip($('el_zuyu9na_1ao6'));</script>    </div>
<div class="action_link print"><a href="http://dank.bengler.no/-/page/print/5474_configuringgrbl" target="_blank">Skriv ut</a></div><div class="action_link tip_link">
  <div id="el_zuyu9na_1ao9" style="display: none;"><div id="el_zuyu9na_1ao7"></div></div><script type="text/javascript">
//<![CDATA[
      el_zuyu9na_1ao8 = new Lightbox('el_zuyu9na_1ao9', {
        closeIcon: true,
        noClickToClose: true,
        borderless: false,
        onShow: function() {  }
      });

//]]>
</script><a href="http://dank.bengler.no/-/tip_sender/form/Page/5474" onclick="        if ($('el_zuyu9na_1ao7').childNodes.length == 0) {
          new Ajax.Updater('el_zuyu9na_1ao7', '/-/tip_sender/form/Page/5474', {
            asynchronous: true, 
            evalScripts: true,
            method: 'get',
            onSuccess: function() {
              el_zuyu9na_1ao8.show();
            },
            onFailure: function(request) {
              el_zuyu9na_1ao8.hide();
              Errors.reportForAjax(request);
            }
          });
          el_zuyu9na_1ao8.prepare();
        } else {
          el_zuyu9na_1ao8.show();
        }
; return false;">Del med andre</a></div><div class='clear'></div>
<div class="byline secondary_colour">
  <div class="byline_content">
    
              <span class="timestamp secondary_colour">

            Opprettet          
          
            15.06.2010 00.34 
          
            - Sist oppdatert             mandag 21. februar 2011 kl 12            
          
        </span>
      
    
    
    
            
  </div>
  <div class="clear"></div>
</div>
</div></div><div class="column spans_10 rightmost_column">    
      
        
<div class="section plain_section page_list"><div class="section_title"><table cellpadding="0" cellspacing="0" class="border_decoration section_title"><thead><tr><td class='section_title_tl'></td><td class='section_title_tm'></td><td class='section_title_tr'></td></tr></thead><tbody><tr><td class='section_title_l'></td><td class='section_title_m'><div class='text'><h2>Andre tekster</h2></div></td><td class='section_title_r'></td></tr></tbody><tfoot><tr><td class='section_title_bl'></td><td class='section_title_bm'></td><td class='section_title_br'></td></tr></tfoot></table></div><div class="section_content"><div class="section_item">                <div class="page_list_entry contains_current">
                  <h4>
                    <a href="http://dank.bengler.no/-/page/show/5470_grbl" class="page_instance object_link">Grbl</a>                  </h4> 
                    <ul class="contains_current">
      <li class="
        ">
        <a href="http://dank.bengler.no/-/page/show/5471_gettinggrbl" class="page_instance object_link">Getting Grbl</a>              </li>
          <li class="
        ">
        <a href="http://dank.bengler.no/-/page/show/5473_connectinggrbl" class="page_instance object_link">Connecting Grbl</a>              </li>
          <li class="current
        ">
        <a href="http://dank.bengler.no/-/page/show/5474_configuringgrbl" class="page_instance object_link">Configuring Grbl</a>              </li>
    
  </ul>
                </div>
</div></div><div class='clear'></div></div><div class='clear'></div>        
    
          <div class="section naked_section"><div class='clear'></div></div><div class='clear'></div></div>    
<div class="clear"></div></div></div></div><div class="clear"></div></div>

              


            </div>
                      
          <div class="page_wrapper_bottom_dummy1"></div>
          <div class="page_wrapper_bottom_dummy2"></div>
          <div class="page_wrapper_bottom_dummy3"></div>
          <div class="page_wrapper_bottom_dummy4"></div>
        </div>
      </div>
    

    <iframe src='http://dank.bengler.no/global.html/-/page/show/5474_configuringgrbl' style='width:0px;height:0px' frameborder='0'></iframe>
</body>  <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');
    
        ga('create', 'UA-129279-6', 'auto');
        ga('send', 'pageview');
      </script>
<!-- Begin TNS UniSpring rev 08.11.2013 -->
<script type="text/javascript" src="http://r.api.no/local/v3/common/js/spring/unispring.js"></script>
<script type="text/javascript">
var measurement =
{
's' : 'amedia',
'cp' : 'produkter/www.origo.no/origo',
'url' : window.location.toString()
};
unispring.c(measurement);
</script>
<noscript>
<img width="1" height="1" src="http://amedia.tns-cs.net/j0=,,,;+,cp=produkter/www.origo.no/origo+URL=;;;" alt="" />
</noscript>
<!-- End TNS UniSpring rev 08.11.2013 —>

<!-- Spring Score : start -->
<script type="text/javascript">
  <!--
  var api_sp_e02 = {
  "s":"api",
  "cp":"API/origo.no",
  "url": document.location.href
  }
  spring.c(api_sp_e02);
  //-->
</script>
<noscript><img src="http://api.tns-cs.net/j0=,,,;+,cp=API/origo.no;;;" alt=""/></noscript>
<!-- Spring Score : end -->

<script type="text/javascript">
//<![CDATA[
Tooltip.setupDocument()
//]]>
</script><script type="text/javascript">
//<![CDATA[

        ga('create', 'UA-129279-18', 'auto', {name: 'sandbox269682'});
        ga('sandbox269682.send', 'pageview');
      
//]]>
</script>

<!-- Mirrored from dank.bengler.no/-/page/show/5474_configuringgrbl by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 May 2016 12:16:02 GMT -->
</html>