<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">


<!-- Mirrored from smoothieware.org/developers-guide by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 May 2016 11:57:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>Developers Guide - Smoothie Project</title>
    
    	<script type="text/javascript" src="login__customdomainscriptf36a.html?site_id=269117"></script>

    
    <script type="text/javascript" src="../images/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = '../images/v--edac79f846ba';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "smoothieware.org";
        WIKIREQUEST.info.siteId = 269117;
        WIKIREQUEST.info.siteUnixName = "chibidibidiwah";
        WIKIREQUEST.info.categoryId = 1474485;
        WIKIREQUEST.info.themeId = 256585;
        WIKIREQUEST.info.requestPageName = "developers-guide";
        OZONE.request.timestamp = 1463138551;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "developers-guide";
        WIKIREQUEST.info.pageId = 13307584;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="../images/wikidot.combined.js"></script>
            <script type="text/javascript" src="../images/bootstrap.min.js"></script>
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
             <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        
        <link href="../images/font-awesome.min.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                /* bootstrap */
            @import url(../images/bootstrap.min.css);
                
        /* theme */
                    @import url(../images/style.css);
                    @import url(../images/style-2.css);
            </style>
    
            <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        
        
        
    <link rel="shortcut icon" href="../images/favicon.gif"/>
    <link rel="icon" type="image/gif" href="../images/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="../images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-26338855-1']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
    </head>
<body id="html-body">
<div id="skrollr-body">
<!---------------------------------------------------------
  Standard Template Layout
  Developed by the Wikidot Community
  Version: 1.00.140723
---------------------------------------------------------->

<div class="container-wrap-wrap">
<div class="container-wrap">

<div class="container">
<header class="header-wrap" role="banner">
  
  <nav class="top-bar-wrap navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container top-bar">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-top-target">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html" style="display:none">Home</a>
      </div>
      <div class="collapse navbar-collapse navbar-top-target">

        <ul class="nav navbar-nav">
        

<ul class="nav navbar-nav">
<li><img src="../images/icon-firmware-48.png" alt="icon-firmware-48.png" class="image" /><br /></li>
<li><a href="index.html">Documentation</a><br /></li>
<li><img src="../images/icon-board-48.png" alt="icon-board-48.png" class="image" /><br /></li>
<li><a href="smoothieboard.html">SmoothieBoard</a><br /></li>
<li><img src="../images/icon-blog-48.png" alt="icon-blog-48.png" class="image" /><br /></li>
<li><a href="blog.html">Blog</a><br /></li>
<li><img src="../images/icon-gallery-48.png" alt="icon-gallery-48.png" class="image" /><br /></li>
<li><a href="gallery.html">Gallery</a><br /></li>
<li><img src="../images/icon-community-48.png" alt="icon-community-48.png" class="image" /><br /></li>
<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Community</a><br />
<ul class="dropdown-menu">
<li><a href="irc.html">IRC : recommended (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧</a></li>
<li><a href="general.html">Forum</a></li>
<li><a href="http://groups.google.com/group/smoothieware-support">Support/Help Mailing list</a></li>
<li><a href="http://groups.google.com/group/smoothie-dev">Developper Mailing list</a></li>
<li><a href="111870450664099533727.html">Google+ Community</a></li>
<li><a href="index-2.html">Facebook page</a></li>
</ul>
</li>
<li><img src="../images/icon-search-48.png" alt="icon-search-48.png" class="image" /><br /></li>
<li><a href="search.html">Search</a><br /></li>
</ul>
<div style="position:fixed; left: 10pt; bottom: -20pt"><img src="../images/smoothie-icon-small-78.png" alt="smoothie-icon-small-78.png" class="image" /></div>


        </ul>
      </div>
    </div>
  </nav>
  
  <div class="header-extra-div-1"><span></span></div>
  <div class="header-extra-div-2"><span></span></div>
  <div class="header-extra-div-3"><span></span></div>
</header>
</div>










 
<main class="content-wrap" role="main">
  <div class="container content">
    <div class="row">
    
      
      <div class="main-content-wrap col-md-12">
        <div class="main-content">
          <div class="page-title page-header" style="display:none"><span>Developers Guide</span></div>
          
          <div id="page-content">

<p>This page contains or will contain stuff you need to know when coding for smoothie. TODO&nbsp;:&nbsp;make proper intro.</p>
<table style="margin:0; padding:0">
<tr>
<td style="margin:0; padding:0">
<div id="toc">
<div id="toc-action-bar"><a href="javascript:;" onclick="WIKIDOT.page.listeners.foldToc(event)">Fold</a><a style="display: none" href="javascript:;" onclick="WIKIDOT.page.listeners.unfoldToc(event)">Unfold</a></div>
<div class="title">Table of Contents</div>
<div id="toc-list">
<div style="margin-left: 2em;"><a href="#toc0">Config system and checksums</a></div>
<div style="margin-left: 3em;"><a href="#toc1">When to read configuration</a></div>
<div style="margin-left: 3em;"><a href="#toc2">Checksums</a></div>
<div style="margin-left: 3em;"><a href="#toc3">Config value types</a></div>
<div style="margin-left: 4em;"><a href="#toc4">ConfigValue object</a></div>
<div style="margin-left: 4em;"><a href="#toc5">String</a></div>
<div style="margin-left: 4em;"><a href="#toc6">Number</a></div>
<div style="margin-left: 4em;"><a href="#toc7">Boolean</a></div>
<div style="margin-left: 4em;"><a href="#toc8">Pin</a></div>
<div style="margin-left: 3em;"><a href="#toc9">Defaults</a></div>
</div>
</div>
</td>
</tr>
</table>
<h2 id="toc0"><span>Config system and checksums</span></h2>
<h3 id="toc1"><span>When to read configuration</span></h3>
<p>When coding a smoothie module, you probably want the user to be able to configure it.<br />
In smoothie configuration is stored in a configuration file, it is read at startup time ( when your module is being loaded ), and anytime the configuration is reloaded ( for example when the config file is changed )</p>
<p>If you want your config values to be read only upon module loading, but not when the config is reloaded, read your config values from the <em>on_module_loaded</em> callback of your module :&nbsp;<a href="https://github.com/arthurwolf/Smoothie/blob/bee725fcd5dce2162f643dd747fb95c1cc9f4242/src/modules/utils/pausebutton/PauseButton.cpp#L16">example</a>.</p>
<p>However this is not recommended. You probably want your configuration to be also read when the system says the configuration has been updated.<br />
What you want to do then is add a <em>on_config_reload</em> handler to your module.<br />
That handler is called for all modules, when Smoothie wants the configuration reloaded.<br />
And of course you also want to call that callback from on_module_loaded</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-types">void</span><span class="hl-code"> </span><span class="hl-identifier">MyModule</span><span class="hl-code">::</span><span class="hl-identifier">on_module_loaded</span><span class="hl-brackets">()</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    </span><span class="hl-comment">// Settings</span><span class="hl-code">
    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">on_config_reload</span><span class="hl-brackets">(</span><span class="hl-reserved">this</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
 
</span><span class="hl-comment">// Get config</span><span class="hl-code">
</span><span class="hl-types">void</span><span class="hl-code"> </span><span class="hl-identifier">MyModule</span><span class="hl-code">::</span><span class="hl-identifier">on_config_reload</span><span class="hl-brackets">(</span><span class="hl-types">void</span><span class="hl-code">* </span><span class="hl-identifier">argument</span><span class="hl-brackets">){</span><span class="hl-code">
    </span><span class="hl-comment">// read configuration values</span><span class="hl-code">
</span><span class="hl-brackets">}</span>
</pre></div>
</div>
<h3 id="toc2"><span>Checksums</span></h3>
<p>Say we have a setting that looks like this in our config file :&nbsp;</p>
<div class="code">
<pre>
<code>maximum_death_star_hourly_power_consumption    100000000000</code>
</pre></div>
<p>Now in our code if we want to read it we'll do something like that :&nbsp;</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-types">void</span><span class="hl-code"> </span><span class="hl-identifier">MyModule</span><span class="hl-code">::</span><span class="hl-identifier">on_config_reload</span><span class="hl-brackets">(</span><span class="hl-types">void</span><span class="hl-code">* </span><span class="hl-identifier">argument</span><span class="hl-brackets">){</span><span class="hl-code">
    </span><span class="hl-comment">// Config does not actually work like that, this is just an hypothetical example to explain, Don't do it like this.</span><span class="hl-code">
    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">maximum_power</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">maximum_death_star_hourly_power_consumption</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_number</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span>
</pre></div>
</div>
<p>See what's happening here ? Because config must know what config option name it's looking for exactly, we must store the whole name in flash.<br />
If we do that for all config options, it's going to end up using quite a lot of flash storage space.</p>
<p>The solution is <a href="http://en.wikipedia.org/wiki/Checksum">Checksums</a> :&nbsp;we don't store the actual string, but a checksum of that string we can compare to the checksums of the configuration lines in the config file and still know if they correspond to our string.<br />
That way we don't actually store the string.</p>
<p>An online tool to compute those when you need can be found <a href="http://www.dioda.ro/tst/tstfletcher.php">here</a>.<br />
The actual code for the checksum calculation is in <a href="https://github.com/arthurwolf/Smoothie/blob/edge/src/libs/utils.cpp">src/libs/utils.cpp</a> :&nbsp;</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-identifier">uint16_t</span><span class="hl-code"> </span><span class="hl-identifier">get_checksum</span><span class="hl-brackets">(</span><span class="hl-identifier">string</span><span class="hl-code"> </span><span class="hl-identifier">to_check</span><span class="hl-brackets">){</span><span class="hl-code">
   </span><span class="hl-comment">// From: http://en.wikipedia.org/wiki/Fletcher%27s_checksum</span><span class="hl-code">
   </span><span class="hl-identifier">uint16_t</span><span class="hl-code"> </span><span class="hl-identifier">sum1</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">;
   </span><span class="hl-identifier">uint16_t</span><span class="hl-code"> </span><span class="hl-identifier">sum2</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">;
   </span><span class="hl-reserved">for</span><span class="hl-brackets">(</span><span class="hl-code"> </span><span class="hl-types">int</span><span class="hl-code"> </span><span class="hl-identifier">index</span><span class="hl-code"> = </span><span class="hl-number">0</span><span class="hl-code">; </span><span class="hl-identifier">index</span><span class="hl-code"> &lt; </span><span class="hl-identifier">to_check</span><span class="hl-code">.</span><span class="hl-identifier">length</span><span class="hl-brackets">()</span><span class="hl-code">; ++</span><span class="hl-identifier">index</span><span class="hl-code"> </span><span class="hl-brackets">){</span><span class="hl-code">
      </span><span class="hl-identifier">sum1</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-identifier">sum1</span><span class="hl-code"> + </span><span class="hl-identifier">to_check</span><span class="hl-brackets">[</span><span class="hl-identifier">index</span><span class="hl-brackets">])</span><span class="hl-code"> % </span><span class="hl-number">255</span><span class="hl-code">;
      </span><span class="hl-identifier">sum2</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-identifier">sum2</span><span class="hl-code"> + </span><span class="hl-identifier">sum1</span><span class="hl-brackets">)</span><span class="hl-code"> % </span><span class="hl-number">255</span><span class="hl-code">;
   </span><span class="hl-brackets">}</span><span class="hl-code">
   </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-identifier">sum2</span><span class="hl-code"> &lt;&lt; </span><span class="hl-number">8</span><span class="hl-brackets">)</span><span class="hl-code"> | </span><span class="hl-identifier">sum1</span><span class="hl-code">;
</span><span class="hl-brackets">}</span>
</pre></div>
</div>
<p>So, now our code will look more like :&nbsp;</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">maximum_death_star_hourly_power_consumption_checksum</span><span class="hl-code"> </span><span class="hl-identifier">CHECKSUM</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">maximum_death_star_hourly_power_consumption</span><span class="hl-quotes">&quot;</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-code">
 
</span><span class="hl-types">void</span><span class="hl-code"> </span><span class="hl-identifier">MyModule</span><span class="hl-code">::</span><span class="hl-identifier">on_config_reload</span><span class="hl-brackets">(</span><span class="hl-types">void</span><span class="hl-code">* </span><span class="hl-identifier">argument</span><span class="hl-brackets">){</span><span class="hl-code">
    </span><span class="hl-comment">// Config works more like this</span><span class="hl-code">
    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">maximum_power</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-identifier">maximum_death_star_hourly_power_consumption_checksum</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_number</span><span class="hl-brackets">()</span><span class="hl-code">;
</span><span class="hl-brackets">}</span>
</pre></div>
</div>
<p>There you go, tons of flash space saved that we can waste on something else.<br />
Also allows not to care about the length on the config options' names, making them much more readable.</p>
<h3 id="toc3"><span>Config value types</span></h3>
<p>There are different types of config values you can retrieve from the config file.<br />
Actually, they are all strings, and you can always access that, but there are convenience methods that allow you to convert them into other stuff.</p>
<h4 id="toc4"><span>ConfigValue object</span></h4>
<p>This is not very useful. It's what you get when you do :</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-code">    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-identifier">whatever_checksum</span><span class="hl-brackets">)</span><span class="hl-code">;</span>
</pre></div>
</div>
<p>You get an object of type <a href="https://github.com/arthurwolf/Smoothie/blob/edge/src/libs/Config.h">ConfigValue</a>. It stores the string ( if the config option was found in the file ), and has all kinds of convenience methods.</p>
<h4 id="toc5"><span>String</span></h4>
<p>If your value is a string, you can access it using the as_string() method :</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-code">    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">whatever_option</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-identifier">whatever_checksum</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_string</span><span class="hl-brackets">()</span><span class="hl-code">;</span>
</pre></div>
</div>
<p>Note : if you provided a default string, and the option is not found in the config file, that default will be returned. See bellow.</p>
<h4 id="toc6"><span>Number</span></h4>
<p>That's easy, just converts your string to a double :</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-code">    </span><span class="hl-types">double</span><span class="hl-code"> </span><span class="hl-identifier">trouble</span><span class="hl-code"> = </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-identifier">whatever_checksum</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_number</span><span class="hl-brackets">()</span><span class="hl-code">;</span>
</pre></div>
</div>
<p>Note : if you provided a default number, and the option is not found in the config file, that default will be returned. See bellow.</p>
<h4 id="toc7"><span>Boolean</span></h4>
<p>This is convenient for example for stuff like :</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-types">void</span><span class="hl-code"> </span><span class="hl-identifier">Laser</span><span class="hl-code">::</span><span class="hl-identifier">on_module_loaded</span><span class="hl-brackets">()</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code"> !</span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-code"> </span><span class="hl-identifier">laser_module_enable_checksum</span><span class="hl-code"> </span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">by_default</span><span class="hl-brackets">(</span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_bool</span><span class="hl-brackets">()</span><span class="hl-code"> </span><span class="hl-brackets">){</span><span class="hl-code"> </span><span class="hl-reserved">return</span><span class="hl-code">; </span><span class="hl-brackets">}</span>
</pre></div>
</div>
<p>This prevents the module from being loaded if the laser_module_enable config option is not present ( defaults to false ) or set to false explicitely.</p>
<p>&quot;true&quot; and &quot;1&quot; are valid true values, anything else is false.</p>
<h4 id="toc8"><span>Pin</span></h4>
<p>Pin objects represent a pin configuration, they store the port number, the pin number, whether the pin is inverted, and other stuff in the future, see : <a href="https://github.com/arthurwolf/Smoothie/blob/edge/src/libs/Pin.h">Pin.h</a>.</p>
<p>They are generated from the result of as_string() ( making default values as strings possible ).</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-code">    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">step_pin</span><span class="hl-code">                    = </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-identifier">extruder_step_pin_checksum</span><span class="hl-code">          </span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">by_default</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">1.22</span><span class="hl-quotes">&quot;</span><span class="hl-code"> </span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_pin</span><span class="hl-brackets">()</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_output</span><span class="hl-brackets">()</span><span class="hl-code">;</span>
</pre></div>
</div>
<h3 id="toc9"><span>Defaults</span></h3>
<p>As you can see in some of the examples above, you can set a default value in case that option is not specified in the config file.</p>
<p>This is done using the by_default() method, that can take either a string or a double.<br />
Doubles are used as defaults only by the as_number() and as_bool() methods.</p>
<div class="code">
<div class="hl-main">
<pre>
<span class="hl-code">    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">acceleration</span><span class="hl-code">              = </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-identifier">acceleration_checksum</span><span class="hl-code">                    </span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">by_default</span><span class="hl-brackets">(</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_number</span><span class="hl-brackets">()</span><span class="hl-code">;
    </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">step_pin</span><span class="hl-code">                    = </span><span class="hl-reserved">this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">kernel</span><span class="hl-code">-&gt;</span><span class="hl-identifier">config</span><span class="hl-code">-&gt;</span><span class="hl-identifier">value</span><span class="hl-brackets">(</span><span class="hl-identifier">extruder_step_pin_checksum</span><span class="hl-code">          </span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">by_default</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">1.22</span><span class="hl-quotes">&quot;</span><span class="hl-code"> </span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_pin</span><span class="hl-brackets">()</span><span class="hl-code">-&gt;</span><span class="hl-identifier">as_output</span><span class="hl-brackets">()</span><span class="hl-code">;</span>
</pre></div>
</div>
<p>If you want smoothie to die if no config value is set in the config file, you can also use -&gt;required(), but that's mean.</p>
</div>
          
          <div style="height:150px"></div>
          <div class="page-info-break"></div>
          <div class="page-options-container"><div id="page-info">page revision: 4, last edited: <span class="odate time_1360776639 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%20%28%25O%20ago%29">13 Feb 2013 17:30</span></div>
            <div id="page-options-bottom"  class="page-options-bottom">
            <a href="javascript:;" class="btn btn-default" id="edit-button">Edit</a>
<a href="javascript:;" class="btn btn-default" id="tags-button">Tags</a>

<a href="javascript:;" class="btn btn-default" id="history-button">History</a>
<a href="javascript:;" class="btn btn-default" id="files-button">Files</a>
<a href="javascript:;" class="btn btn-default" id="print-button">Print</a>
<a href="javascript:;" class="btn btn-default" id="site-tools-button">Site tools</a>
<a href="javascript:;" class="btn btn-default" id="more-options-button">+&nbsp;Options</a> 
</div>
<div id="page-options-bottom-2" class="page-options-bottom form-actions" style="display:none">
    <a href="javascript:;" class="btn btn-default" id="edit-sections-button">Edit Sections</a>
    <a href="javascript:;" class="btn btn-default" id="edit-append-button">Append</a>
    <a href="javascript:;" class="btn btn-default" id="edit-meta-button">Edit Meta</a>
    <a href="javascript:;" class="btn btn-default" id="watchers-button">Watchers</a> 
    <a href="javascript:;" class="btn btn-default" id="backlinks-button">Backlinks</a> 
    <a href="javascript:;" class="btn btn-default" id="view-source-button">Page Source</a> 
    <a href="javascript:;" class="btn btn-default" id="parent-page-button">Parent</a> 
    <a href="javascript:;" class="btn btn-default" id="page-block-button">Lock Page</a>    
    <a href="javascript:;" class="btn btn-default" id="rename-move-button">Rename</a> 
    <a href="javascript:;" class="btn btn-default" id="delete-button">Delete</a> 
</div>
<div id="page-options-area-bottom">
</div>
</div>
          <div id="action-area" style="display: none;"></div>
        </div>
      </div>
    </div>
  </div>
</main>
 
<footer class="footer-wrap" role="contentinfo">
  <div class="container footer">
    <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="legal_terms-of-service.html" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="legal_privacy-policy.html" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="index-4.html">Wikidot.com</a> 
    <div class="license-area">Unless otherwise stated, the content of this page is licensed under <a rel="license" href="index-5.html">Creative Commons Attribution-ShareAlike 3.0 License</a></div>
  </div>
  <div class="extrac-div-1"><span></span></div>
  <div class="extrac-div-2"><span></span></div>
  <div class="extrac-div-3"><span></span></div>
</footer>
 

</div> <!-- container-wrap -->
 
<div class="extra-div-1"><span></span></div>
<div class="extra-div-2"><span></span></div>
<div class="extra-div-3"><span></span></div>
<div class="extra-div-4"><span></span></div>
<div class="extra-div-5"><span></span></div>
<div class="extra-div-6"><span></span></div>
</div> <!-- container-wrap-wrap -->
</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="../images/p-edl3gsnujjzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>

<!-- Mirrored from smoothieware.org/developers-guide by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 May 2016 11:57:39 GMT -->
</html>