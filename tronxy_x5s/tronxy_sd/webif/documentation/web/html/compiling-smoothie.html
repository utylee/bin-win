<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">


<!-- Mirrored from smoothieware.org/compiling-smoothie by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 May 2016 11:48:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>Compiling Smoothie - Smoothie Project</title>
    
    	<script type="text/javascript" src="login__customdomainscriptf36a.html?site_id=269117"></script>

    
    <script type="text/javascript" src="../images/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = '../images/v--edac79f846ba';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "smoothieware.org";
        WIKIREQUEST.info.siteId = 269117;
        WIKIREQUEST.info.siteUnixName = "chibidibidiwah";
        WIKIREQUEST.info.categoryId = 1474485;
        WIKIREQUEST.info.themeId = 256585;
        WIKIREQUEST.info.requestPageName = "compiling-smoothie";
        OZONE.request.timestamp = 1463138540;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "compiling-smoothie";
        WIKIREQUEST.info.pageId = 11637272;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="../images/wikidot.combined.js"></script>
            <script type="text/javascript" src="../images/bootstrap.min.js"></script>
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
             <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        
        <link href="../images/font-awesome.min.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                /* bootstrap */
            @import url(../images/bootstrap.min.css);
                
        /* theme */
                    @import url(../images/style.css);
                    @import url(../images/style-2.css);
            </style>
    
            <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        
        
        
    <link rel="shortcut icon" href="../images/favicon.gif"/>
    <link rel="icon" type="image/gif" href="../images/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="../images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-26338855-1']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
    </head>
<body id="html-body">
<div id="skrollr-body">
<!---------------------------------------------------------
  Standard Template Layout
  Developed by the Wikidot Community
  Version: 1.00.140723
---------------------------------------------------------->

<div class="container-wrap-wrap">
<div class="container-wrap">

<div class="container">
<header class="header-wrap" role="banner">
  
  <nav class="top-bar-wrap navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container top-bar">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-top-target">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html" style="display:none">Home</a>
      </div>
      <div class="collapse navbar-collapse navbar-top-target">

        <ul class="nav navbar-nav">
        

<ul class="nav navbar-nav">
<li><img src="../images/icon-firmware-48.png" alt="icon-firmware-48.png" class="image" /><br /></li>
<li><a href="index.html">Documentation</a><br /></li>
<li><img src="../images/icon-board-48.png" alt="icon-board-48.png" class="image" /><br /></li>
<li><a href="smoothieboard.html">SmoothieBoard</a><br /></li>
<li><img src="../images/icon-blog-48.png" alt="icon-blog-48.png" class="image" /><br /></li>
<li><a href="blog.html">Blog</a><br /></li>
<li><img src="../images/icon-gallery-48.png" alt="icon-gallery-48.png" class="image" /><br /></li>
<li><a href="gallery.html">Gallery</a><br /></li>
<li><img src="../images/icon-community-48.png" alt="icon-community-48.png" class="image" /><br /></li>
<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Community</a><br />
<ul class="dropdown-menu">
<li><a href="irc.html">IRC : recommended (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧</a></li>
<li><a href="general.html">Forum</a></li>
<li><a href="smoothieware-support.html">Support/Help Mailing list</a></li>
<li><a href="smoothie-dev.html">Developper Mailing list</a></li>
<li><a href="111870450664099533727.html">Google+ Community</a></li>
<li><a href="index-2.html">Facebook page</a></li>
</ul>
</li>
<li><img src="../images/icon-search-48.png" alt="icon-search-48.png" class="image" /><br /></li>
<li><a href="search.html">Search</a><br /></li>
</ul>
<div style="position:fixed; left: 10pt; bottom: -20pt"><img src="../images/smoothie-icon-small-78.png" alt="smoothie-icon-small-78.png" class="image" /></div>


        </ul>
      </div>
    </div>
  </nav>
  
  <div class="header-extra-div-1"><span></span></div>
  <div class="header-extra-div-2"><span></span></div>
  <div class="header-extra-div-3"><span></span></div>
</header>
</div>










 
<main class="content-wrap" role="main">
  <div class="container content">
    <div class="row">
    
      
      <div class="main-content-wrap col-md-12">
        <div class="main-content">
          <div class="page-title page-header" style="display:none"><span>Compiling Smoothie</span></div>
          
          <div id="page-content">

<h2 id="toc0"><span>Compilation from Source</span></h2>
<p>Smoothie can be compiled using <a href="gnu_compiler_collection.html">GCC</a>.</p>
<p>First of all, <a href="getting-smoothie.html">get Smoothie</a>'s source.</p>
<p>You do not need to do any of this if you just want to use your board. This is only needed if you want the absolute latest firmware, or are modifying Smoothie's source.</p>
<h3 id="toc1"><span>Getting a toolchain</span></h3>
<p>To compile smoothie, you need a <a href="toolchain.html">toolchain</a> ( a compiler, a linker, etc &#8230; ).</p>
<p>Smoothie provides install scripts to automagically install a great toolchain. Simply go into the Smoothie folder, then run the install script appropriate for your platform:</p>
<ul>
<li>Windows: <strong><tt>win_install.cmd</tt></strong></li>
<li>OS X: <strong><tt>mac_install</tt></strong></li>
<li>Linux: <strong><tt>linux_install</tt></strong></li>
</ul>
<div class="bs-callout bs-callout-primary">
<h4 id="toc2"><span>Windows users</span></h4>
<p>Double click from the Window Explorer screen and the system will install the tools for you.</p>
<p>Trying to execute &quot;win_install.cmd&quot; from a windows command window will not work at all.</p>
<p>I know I tried about 10 different methods and only the windows explorer screen method worked.</p>
</div>
<p>This will download and install a working toolchain.</p>
<p>In Ubuntu Linux 64bit, you will also need to install &quot;libc6-dev-i386&quot;</p>
<p>You can then run the <strong>BuildShell</strong> script which will be created during the install to properly configure the PATH environment variable</p>
<p>In Linux or OSX :</p>
<div class="code">
<pre>
<code>./BuildShell</code>
</pre></div>
<p>or you can take the appropriate directories and add them to your PATH through your existing environment configuration options/scripts.</p>
<div class="bs-callout bs-callout-primary">
<h4 id="toc3"><span>Windows users</span></h4>
<p>Double click from the Window Explorer screen &quot;BuildShell&quot; and this will generate a windows command screen that when you type in &quot;make clean all&quot; will build the complete system and leave the binary for download to the board in the &quot;LPC1768&quot; directory.</p>
<p>There are no further steps to be done to build the software.</p>
</div>
<div class="bs-callout bs-callout-warning">
<h4><span>Space, the final frontier</span></h4>
<p>On some operating systems ( this has been reported with Windows and MacOS ), having a &quot;space&quot; character in the path to your Smoothie installation, can cause the installation of the toolchain to fail.</p>
<p>Please make sure you don't have any space characters in your path ( this is often caused by usernames having spaces in them ). This could also be caused by special characters.</p>
</div>
<h3 id="toc4"><span>Compiling</span></h3>
<p>Once BuildShell is created, you want to launch it, and compile all of the code that Smoothie consists of:&nbsp;</p>
<div class="code">
<pre>
<code>make clean all</code>
</pre></div>
<p>Ref: &quot;make clean all&quot; will compile|recompile everything needed for Smoothie. The end result will be the file <strong>main.bin</strong> in the subfolder <strong>LPC1768</strong>.</p>
<div class="bs-callout bs-callout-warning">
<h4 id="toc5"><span>Mbed online compiler</span></h4>
<p>It is possible to compile Smoothie without having to install a compiler using the mBed <a href="compiler-tour.html">online compiler</a>, but please note that this only supports a very old version of Smoothie :&nbsp;<a href="index-98.html">Smoothie on Mbed</a></p>
<p>This is not at all a recommended method</p>
</div>
<div class="bs-callout bs-callout-warning">
<h4 id="toc6"><span>Windows error</span></h4>
<p>On Windows, if you get an error like <strong><tt>process_begin: CreateProcess(NULL, echo Building src, &#8230;) failed.</tt></strong>, this means that there is a sh.exe somewhere on your path (such as the one installed by the Windows GitHub client) - this confuses GNU Make 3.81 into thinking you're on a Unix-like system.</p>
<p>One solution is to replace <strong><tt>build\win32\make.exe</tt></strong> with a copy of version 3.82 - downloaded from <a href="equationd21a.html?fa=make">here</a>, perhaps.</p>
<p>More information on the process of getting mBed code to compile with GCC can be found <a href="index-99.html">here</a> ( recommended read ).</p>
</div>
<h2 id="toc7"><span>Flashing to the board</span></h2>
<p>If you are using a mBed please see <a href="flashing-the-bootloader.html">here</a>.</p>
<p>If you are using a smoothieboard, the <a href="flashing-the-bootloader.html">SD bootloader</a> is already present.</p>
<p>If you are using a LPCXpresso1769 then you must first install the <a href="flashing-the-bootloader.html">SD bootloader</a>.</p>
<p>Once it is compiled, then simply copy the generated .bin file to the SD card with the name <strong>firmware.bin</strong>, then reset and it will be flashed to the board automatically.</p>
<p>Example :</p>
<div class="code">
<pre>
<code>make
cp LPC1768/main.bin /media/smoothieboard-or-mbed/firmware.bin</code>
</pre></div>
<p>Detailled instructions can be found on the <a href="flashing-smoothie-firmware.html">Flashing Smoothie</a> page.</p>
<h3 id="toc8"><span>Linux and OS/X users</span></h3>
<p>An alternative way to flash main.bin is to use a utility called dfu-util<br />
<tt>make upload</tt> will use this to flash the new firmware, so long as smoothie is currently running.<br />
If smoothie has crashed, then you can still use <tt>make upload</tt> by:-</p>
<ol>
<li>holding the play/pause button</li>
<li>click the reset button</li>
<li>wait one second and release the play/pause button</li>
</ol>
<p>This puts the boot loader into dfu mode and <tt>make upload</tt> will now work.</p>
<p><strong>NOTE</strong> dfu is not enabled by default, you must add the following to your config file&#8230;</p>
<div class="code">
<pre>
<code>dfu_enable                                   true             # enable dfu</code>
</pre></div>
</div>
          
          <div style="height:150px"></div>
          <div class="page-info-break"></div>
          <div class="page-options-container"><div id="page-info">page revision: 32, last edited: <span class="odate time_1442690512 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%20%28%25O%20ago%29">19 Sep 2015 19:21</span></div>
            <div id="page-options-bottom"  class="page-options-bottom">
            <a href="javascript:;" class="btn btn-default" id="edit-button">Edit</a>
<a href="javascript:;" class="btn btn-default" id="tags-button">Tags</a>

<a href="javascript:;" class="btn btn-default" id="history-button">History</a>
<a href="javascript:;" class="btn btn-default" id="files-button">Files</a>
<a href="javascript:;" class="btn btn-default" id="print-button">Print</a>
<a href="javascript:;" class="btn btn-default" id="site-tools-button">Site tools</a>
<a href="javascript:;" class="btn btn-default" id="more-options-button">+&nbsp;Options</a> 
</div>
<div id="page-options-bottom-2" class="page-options-bottom form-actions" style="display:none">
    <a href="javascript:;" class="btn btn-default" id="edit-sections-button">Edit Sections</a>
    <a href="javascript:;" class="btn btn-default" id="edit-append-button">Append</a>
    <a href="javascript:;" class="btn btn-default" id="edit-meta-button">Edit Meta</a>
    <a href="javascript:;" class="btn btn-default" id="watchers-button">Watchers</a> 
    <a href="javascript:;" class="btn btn-default" id="backlinks-button">Backlinks</a> 
    <a href="javascript:;" class="btn btn-default" id="view-source-button">Page Source</a> 
    <a href="javascript:;" class="btn btn-default" id="parent-page-button">Parent</a> 
    <a href="javascript:;" class="btn btn-default" id="page-block-button">Lock Page</a>    
    <a href="javascript:;" class="btn btn-default" id="rename-move-button">Rename</a> 
    <a href="javascript:;" class="btn btn-default" id="delete-button">Delete</a> 
</div>
<div id="page-options-area-bottom">
</div>
</div>
          <div id="action-area" style="display: none;"></div>
        </div>
      </div>
    </div>
  </div>
</main>
 
<footer class="footer-wrap" role="contentinfo">
  <div class="container footer">
    <div class="options" style="display: block; visibility: visible;">
    <a href="doc_start.html" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="legal_terms-of-service.html" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="legal_privacy-policy.html" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="index-4.html">Wikidot.com</a> 
    <div class="license-area">Unless otherwise stated, the content of this page is licensed under <a rel="license" href="index-5.html">Creative Commons Attribution-ShareAlike 3.0 License</a></div>
  </div>
  <div class="extrac-div-1"><span></span></div>
  <div class="extrac-div-2"><span></span></div>
  <div class="extrac-div-3"><span></span></div>
</footer>
 

</div> <!-- container-wrap -->
 
<div class="extra-div-1"><span></span></div>
<div class="extra-div-2"><span></span></div>
<div class="extra-div-3"><span></span></div>
<div class="extra-div-4"><span></span></div>
<div class="extra-div-5"><span></span></div>
<div class="extra-div-6"><span></span></div>
</div> <!-- container-wrap-wrap -->
</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="../images/p-edl3gsnujjzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>

<!-- Mirrored from smoothieware.org/compiling-smoothie by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 May 2016 11:48:24 GMT -->
</html>